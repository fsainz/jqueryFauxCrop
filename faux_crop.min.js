jQuery(function(){$.faux_crop=function(e,t){this.settings={};this.$element=$(e);this.init=function(){this.settings=$.extend({},this.defaults,t);if(this.settings.original_crop_x!=null){this.settings.coordinates_for_cropping=true}return this.$element.html(this.output())};this.output=function(){return"<div class='faux_crop' style='"+this.css_style_for_container()+"'>\n  <img src='"+this.settings.image_path+"' style='"+this.css_style_for_image()+"'>\n</div>"};this.css_style_for_container=function(){return"position: relative; overflow:hidden; width:"+this.settings.target_size+"px; height:"+this.settings.target_size+"px"};this.css_style_for_image=function(){var e;if(this.settings.coordinates_for_cropping){e=this.css_style_for_cropped_image()}else{e=this.css_style_for_gravity_crop()}return e};this.css_style_for_cropped_image=function(){var e,t,n,r,i,s;t=this.settings.width/this.settings.original_crop_size;r=this.settings.target_size/this.settings.original_crop_size;n=this.settings.target_size*t;i=-this.settings.original_crop_x*r;s=-this.settings.original_crop_y*r;return e="width:"+n+"px; max-width:none;height:auto; margin-left:"+i+"px; margin-top:"+s+"px; display:block;"};this.css_style_for_gravity_crop=function(){var e,t,n,r,i;i=this.settings.width/this.settings.height;if(i>1){n=this.settings.target_size*i;r=(this.settings.target_size-n)/2;e="height:"+this.settings.target_size+"px; width:auto; max-width:none;margin-left:"+r+"px;display:block;"}else{t=this.settings.target_size/i;r=(this.settings.target_size-t)/2;e="width:"+this.settings.target_size+"px; height:auto;margin-top:"+r+"px;display:block;"}return e};this.init();return this};$.faux_crop.prototype.defaults={};return $.fn.faux_crop=function(e){return this.each(function(){var t,n;t=$(this);n={image_path:t.data("image-path"),width:t.data("width"),height:t.data("height"),target_size:t.data("target-size"),original_crop_x:t.data("original-crop-x"),original_crop_y:t.data("original-crop-y"),original_crop_size:t.data("original-crop-size")};e=$.extend({},n,e);return new $.faux_crop(this,e)})}})